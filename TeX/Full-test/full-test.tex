%%
%% This is file `squelette-rr.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:

%%
%% RR.dtx  (with options: `sample')
%% ********************************************************************
%% Copyright (C) 1997-1999 2004 2006 2007 INRIA/APICS by Jose' Grimm
%% This file may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2003/12/01 or later.
%% An archive of the software can be found at
%%    ftp://ftp-sop.inria.fr/apics/rr-inria

\documentclass[a4paper]{article}

\usepackage{RR}
%\usepackage{hyperref}
\usepackage{a4wide}
%\usepackage{comment}
%\excludecomment{figure}
%%\usepackage[frenchb]{babel} % optionnel
%%
%% date de publication du rapport
\RRdate{\today}
%%
%% Cas d'une version deux
%% \RRversion{2}
%% date de publication de la version 2
%% \RRdater{Novembre  2006}

%%
\RRauthor{% % les auteurs
%  % Premier auteur, avec une note
% Vincent Acary\thanks{\tt vincent.acary@inrialpes.fr}%
%   % note partag\'ee (optionnelle)
% %  \thanks[sfn]{Shared foot note}%
%  \and Maurice Br\'emond\thanks{\tt maurice.bremond@inrialpes.fr}
% %entre chaque auteur s'il y en a plusieurs
%   \and
% Florent Cadoux\thanks{florent.cadoux@gmail.com}%
%  % r\'ef\'erence \`a la note partag\'ee
% %\thanksref{sfn}
}
%%
%% Ceci apparait sur chaque page paire.
\authorhead{}
%%
\RRtitle{Sur la r\'esolution du probl\`eme de frottement tridimensionnel. Formulations and comparaisons des m\'ethodes num\'eriques. }
%% English title
\RRetitle{Solving 3D frictional contact problems: Formulations and comparisons of numerical methods.}
%%
\titlehead{Solving 3D frictional contact problems}
%%
%\RRnote{}
%\RRnote{This is a second note}
%%
\RRresume{TBW
}
\RRabstract{TBW}
%%
\RRmotcle{Syst\`emes multi--corps, M\'ecanique non r\'eguli\`ere, contraintes unilat\'erales,  frottement de Coulomb, impact, Sch\'emas num\'eriques de r\'esolution}
\RRkeyword{ Multibody systems, nonsmooth Mechanics,  unilateral constraints, Coulomb friction, impact, numerical methods}
%%
%% \Rrprojet{Apics}  % cas d'un seul projet
\RRprojet{Bipop}
%%
%%\RRtheme{\THNum} % cas d'un seul theme
%%\RRtheme{\THCom \THCog \THSym \THNum \THBio} % cas de 5 themes
%%
%% \URLorraine % pour ceux qui sont \`a l'est
%% \URRennes  % pour ceux qui sont \`a l'ouest
 \URRhoneAlpes % pour ceux qui sont dans les montagnes
%% \URRocq % pour ceux qui sont au centre de la France
%% \URFuturs % pour ceux qui sont dans le virtuel
%% \URSophia % pour ceux qui sont au Sud.
%%
%% \RCBordeaux % centre de recherche Bordeaux - Sud Ouest
%% \RCLille % centre de recherche Lille Nord Europe
%% \RCParis % Paris Rocquencourt
%% \RCSaclay % Saclay \^Ile de France
\RCGrenoble % Grenoble - Rh\^one-Alpes
%% \RCNancy % Nancy - Grand Est
%% \RCRennes % Rennes - Bretagne Atlantique
%\RCSophia % Sophia Antipolis M\'editerran\'ee

\input{packages.tex}
\input{macro.tex}

%\newcommand{\includegraphicsmaybe}[1]{\IfFileExists{{#1}}{\includegraphics{#1}}{\makebox{‌​File {#1} is missing}}}

\fancyfoot[L]{}
\fancyfoot[C]{}
\fancyfoot[R]{\texttt{file rr.tex -- \isodayandtime}}

\newcommand{\test}[2]{
\section{{#2}}
\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/VI/UpdateRule/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/VI/UpdateRule/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename{  } VI/UpdateRule}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalSolver/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalSolver/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }NSGS/LocalSolver}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalSolverHybrid/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalSolverHybrid/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }NSGS/LocalSolverHybrid}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalTol/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalTol/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }NSGS/LocalTol}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalTol/VI/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/NSGS/LocalTol/VI/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }NSGS/LocalTol-VI}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/NSGS/Shuffled/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/NSGS/Shuffled/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }NSGS/Shuffled}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/PSOR/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/PSOR/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }PSOR}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/NSN/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/NSN/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }NSN}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/OPTI/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/OPTI/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }OPTI}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/PROX/InternalSolvers/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/PROX/InternalSolvers/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }PROX/InternalSolvers}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/PROX/Parameters/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/PROX/Parameters/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }PROX/Parameters}
\end{figure}


\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/COMP/large/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/COMP/large/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }COMP/large}
\end{figure}


\begin{figure}[htbp]
  \centering
  \includegraphics[width=\figwidth]{../figure/COMP/zoom/\measurename/profile-#1.pdf}
  \includegraphics[width=\figwidth]{../figure/COMP/zoom/\measurename/profile-#1_legend.pdf}
\caption{{#2}{  } \measurename { }COMP/zoom}
\end{figure}

}



\begingroup
\count0=\time \divide\count0by60 % Hour
\count2=\count0 \multiply\count2by-60 \advance\count2by\time
% Min
\def\2#1{\ifnum#1<10 0\fi\the#1}
\xdef\isodayandtime{\the\year-\2\month-\2\day\space\2{\count0}:%
\2{\count2}}
\endgroup
%%%% fin macro %%%%

\graphicspath{{../figure/}}

\PassOptionsToPackage{dvipsnames,svgnames}{xcolor}
\renewcommand{\baselinestretch}{1.5}
\usepackage{natbib}
%%
\begin{document}
%%
\RRNo{123456789}
\makeRR   % cas d'un rapport de recherche
%% \makeRT % cas d'un rapport technique.
%% a partir d'ici, chacun fait comme il le souhaite



\tableofcontents
\def\measurename{time}
\def\figwidth{0.8\textwidth}


\clearpage
\def\testname{LMGC_100_PR_PerioBox}
\def\testnamechar{LMGC\_100\_PR\_PerioBox}
\test{\testname}{\testnamechar}

\clearpage
\subsection{Comments}
\begin{enumerate}
\item VI solvers:
  \begin{enumerate}
  \item The EG-VI solvers are better than FP-VI solvers.
  \item The local update rule UPK vs. UPTS is not important
  \item The update in the loop improves greatly the convergence rate.
  \end{enumerate}
\item NSGS Solvers:
  \begin{enumerate}
  \item Local solvers
    \begin{enumerate}
    \item NSN local solvers without line-search are the best solvers.
    \item GP line-search method is slowing a lot the efficiency of the solver. Since we do need to improve to robustness of the solver, there is no interest in this set to use a line-search
    \item Quite surprisingly, the local solvers based on FP-VI-UPK are also efficient, especially when we limit the number of iteration or the local tolerance of the local algorithm.
    \end{enumerate}
  \item Local Tolerances:
        The study of the local tolerances of the local solvers shows that the local tolerance has to be lower than 1e-10 to get robustness and a good convergence rate of the NSGS-AC-GP solver.
        For the NSGS-FP-VI-UPK, a limited tolerance improves the efficiency without reducing the robustness
      \item Shuffling techniques: The shuffling of contact does not improve the convergence.
  \end{enumerate}
\end{enumerate}
\item PSOR Solvers.
  \begin{enumerate}
  \item For the values of the relaxation parameters $\omega$ in $[1.3,1.5]$, the relaxation increases the efficiency of the  solver but decreases the robustness
  \item For low values of the relaxation parameters $\omega$ in $[0.5, 0.8]$, the relaxation increases the  the robustness but decreases the efficiency
  \end{enumerate}
\item NSN and PROX solvers. The direct Newton techniques on such rigid-body test set are inefficient. (link to the distribution of ranks of the matrices)
\item OPTI solvers. On this problem, the ACLM and TRESCA approaches do not improve the efficiency. The problems are also better solved by the SOCLCP technique. Convexification is working well.

\end{enumerate}


\clearpage
\def\testname{LMGC_945_SP_Box_PL}
\def\testnamechar{LMGC\_945\_SP\_Box\_PL}
\test{\testname}{\testnamechar}
\clearpage
\subsection{Comments}

\begin{enumerate}
\item VI solvers: difficult to draw conclusions since a lot of solvers are not able to converge within timeout
\item NSGS Solvers:
  \begin{enumerate}
  \item Local solvers
    \begin{enumerate}
    \item NSGS-FP-VI-UPK are the best solvers.
    \item NSGS-NSN suffers from huge robustness problem.
    \item GP line-search method improves a bit  the efficiency of the solver
    \item Hybrid solvers seems to succeed but it is difficult to say if the Newton method helps to improve results
    \end{enumerate}
  \item Local Tolerances:
    For the NSGS-FP-VI-UPK, a limited tolerance improves the efficiency without reducing the robustness
  \item Shuffling techniques: The shuffling of contact does not improve the convergence.
  \end{enumerate}
\end{enumerate}
\item PSOR Solvers. No conclusion due to robustness problems
\item NSN and PROX solvers. The direct Newton techniques on such rigid-body test set are inefficient. (link to the distribution of ranks of the matrices)
\item OPTI solvers. On this problem, the TRESCA approach improves a lot the efficiency. The problems are also better solved by the SOCLCP technique/ Convexification is working well.
\end{enumerate}

\clearpage
\def\testname{LMGC_AqueducPR}
\def\testnamechar{LMGC Aqueduc PR }
\test{\testname}{\testnamechar}
\clearpage
\subsection{Comments}
\begin{enumerate}
\item VI solvers: difficult to draw conclusions since a lot of solvers are not able to converge within timeout
\item NSGS Solvers:
  \begin{enumerate}
  \item Local solvers
    \begin{enumerate}
    \item NSGS-NSN-*-GP are the best solvers. Line search improves efficiency of the solvers.
    \item Hybrid solvers do not bring new advantages which is not surprising since NSGS-NSN solvers are the best
    \end{enumerate}
  \item Local Tolerances:

  \item Shuffling techniques: The shuffling of contact does not improve the convergence.
  \end{enumerate}
\end{enumerate}
\item PSOR Solvers. The relaxation is not interesting in this example
\item NSN and PROX solvers. The direct Newton techniques on such rigid-body test set are inefficient. (link to the distribution of ranks of the matrices)
\item OPTI solvers. On this problem, the ACLM approach improves a lot the efficiency and the robustness. The problems are also better solved by the SOCLCP technique. Convexification is working well.
\end{enumerate}




\clearpage
\def\testname{LMGC_Bridge_PR}
\def\testnamechar{LMGC Bridge PR }
\test{\testname}{\testnamechar}


\clearpage
\def\testname{LMGC_LowWall_FEM}
\def\testnamechar{LMGC LowWall FEM}
\test{\testname}{\testnamechar}

\clearpage
\def\testname{LMGC_Cubes_H8}
\def\testnamechar{LMGC Cubes H8}
\test{\testname}{\testnamechar}

\clearpage
\def\testname{Capsules}
\def\testnamechar{Capsules}
\test{\testname}{\testnamechar}


\clearpage
\def\testname{Chain}
\def\testnamechar{Chain}
\test{\testname}{\testnamechar}

%\if0
\clearpage
\def\testname{BoxesStack1}
\def\testnamechar{BoxesStack1}
\test{\testname}{\testnamechar}
%\fi

\clearpage
\def\testname{KaplasTower}
\def\testnamechar{KaplasTower}
\test{\testname}{\testnamechar}

\clearpage
\def\testname{Chute_1000}
\def\testnamechar{Chute\_1000}
\test{\testname}{\testnamechar}

\clearpage
\end{document}
\endinput
%%
%% End of file `squelette-rr.tex'.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
